# GCC Makefile fragment for Synopsys DesignWare ARC

# Copyright (C) 2007-2012 Free Software Foundation, Inc.  
# Contributor: Joern Rennecke <joern.rennecke@embecosm.com>
#              on behalf of Synopsys Inc.

# This file is part of GCC.

# GCC is free software; you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation; either version 3, or (at your option) any later version.

# GCC is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
# FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
# details.

# You should have received a copy of the GNU General Public License along
# with GCC; see the file COPYING3.  If not see
# <http://www.gnu.org/licenses/>.

#LIBGCC2_CFLAGS = -g1 -O2 $(LIBGCC2_INCLUDES) $(GCC_CFLAGS)
TARGET_LIBGCC2_CFLAGS = -mEM -O1

LIB1ASMSRC    = arc/lib1funcs.S
LIB1ASMFUNCS  = _umulsidi3 _millicodethunk_st _millicodethunk_ld _millicodethunk_ret

LIB2ADD = $(srcdir)/udivmod.c \
          $(srcdir)/divmod.c \
          $(srcdir)/udivmodsi4.c

# .init/.fini section routines

crtg.o: $(srcdir)/config/arc/crtg.S
	$(crt_compile) -c -x assembler-with-cpp $<

crtgend.o: $(srcdir)/config/arc/crtgend.S
	$(crt_compile) -c -x assembler-with-cpp $<

